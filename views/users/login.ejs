<% layout('layouts/boilerplate') %>

<div class="login row d-flex align-items-center">
	<div class="col-md-6 offset-md-3 col-xl-4 offset-xl-4 p-0">
		<div class="card shadow">
			<img
				class="card-img-top"
				alt=""
				src="https://images.unsplash.com/photo-1525811902-f2342640856e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1171&q=80"
			/>
			<div class="card-body">
				<h4 class="card-title">Login</h4>
				<form action="/login" method="POST" class="validated-form" novalidate>
					<div class="mb-3">
						<label for="username" class="form-label">Username</label>
						<input
							type="text"
							name="username"
							id="usename"
							class="form-control"
							required
							autofocus
						/>
					</div>
					<div class="mb-3">
						<label for="password" class="form-label">Password</label>
						<div class="input-group mb-4">
							<input
								type="password"
								name="password"
								id="password"
								class="form-control"
								required
							/>
							<button
								class="btn btn-outline-secondary"
								type="button"
								id="togglePassword"
							>
								<i class="bi bi-eye"></i>
							</button>
						</div>
					</div>
					<button class="btn btn-success w-100">Login</button>
					<div class="login-with mt-3">
						<a class="btn btn-dark w-100" href="/login/federated/google">
							<i class="bi bi-google"></i>
							<span class="d-inline-block ps-2">Google</span>
						</a>
					</div>
					<div class="py-3 text-center">
						<span class="">No account?</span>
						<a
							href="/register"
							class="text-decoration-none p-0 border-bottom border-primary"
							>REGISTER</a
						>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>

<script>
	document
		.getElementById('togglePassword')
		?.addEventListener('click', function () {
			const passwordInput = document.getElementById('password');
			const type =
				passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
			passwordInput.setAttribute('type', type);
			this.innerHTML =
				type === 'password'
					? '<i class="bi bi-eye"></i>'
					: '<i class="bi bi-eye-slash"></i>';
		});
</script>
