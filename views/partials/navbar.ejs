<nav class="navbar sticky-top navbar-expand-lg navbar-dark bg-dark">
	<div class="container-fluid">
		<a class="navbar-brand" href="/">ComePers</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarNavAltMarkup"
			aria-controls="navbarNavAltMarkup"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarNavAltMarkup">
			<div class="navbar-nav">
				<a class="nav-link" href="/">Home</a>
				<a class="nav-link" href="/campgrounds">Campgrounds</a>
				<a class="nav-link" href="/campgrounds/new">New Campgrounds</a>

				<!-- <a
                    class="nav-link disabled"
                    href="#"
                    tabindex="-1"
                    aria-disabled="true"
                    >Disabled</a
                > -->
			</div>
			<div class="navbar-nav ms-auto">
				<% if(!loggedInUser){ %>
				<a class="nav-link" href="/login">Login</a>
				<a class="nav-link" href="/register">Register</a>
				<% }else{ %>
				<!-- <a class="nav-link" href="/logout">Logout</a> -->
				<div
					style="width: 30px; height: 30px; cursor: pointer"
					class="profile-wrapper position-relative"
				>
					<img
						src="<%- loggedInUser.profile %>"
						alt="profile"
						class="rounded-circle w-100"
					/>
					<div class="profile-popup__main-wrapper position-absolute p-2">
						<div
							style="width: 150px"
							class="profile-popup-wrapper rounded-2 border border-primary-subtle p-2 pb-4 bg-light"
						>
							<a class="nav-link text-danger" href="/logout">
								<i class="bi bi-box-arrow-right"></i>
								Logout</a
							>
						</div>
					</div>
				</div>
				<% } %>
			</div>
		</div>
	</div>
</nav>

<script>
	const profileWrapper = document.querySelector('.profile-wrapper');
	profileWrapper?.addEventListener('click', function () {
		console.log('.......');
		const profilePopupWrapper = document.querySelector(
			'.profile-popup-wrapper'
		);

		if (profilePopupWrapper.style.opacity != 1)
			profilePopupWrapper.style.opacity = 1;
		else profilePopupWrapper.style.opacity = 0;
	});
</script>
